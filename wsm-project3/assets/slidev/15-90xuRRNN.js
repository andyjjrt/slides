import{_ as m}from"./VClicks-3tLglMTD.js";import{o as r,c as i,k as l,l as p,q as c,s as o,A as t,e as s,$ as a}from"../modules/vue-BG5_Ruuw.js";import{I as h}from"./default-DUM4PuRR.js";import{b as u,T as n}from"../index-Baj6bX1h.js";import{p as g,u as d,f as y}from"./context-C1I9yFn3.js";import"../modules/shiki-BCcSmtpa.js";const _=s("h1",null,"N-Gram",-1),f=s("h2",null,[s("strong",null,"What we should do")],-1),v=s("ul",null,[s("li",null,[a("Randomly choose songs from same "),s("code",null,"genre"),a(", "),s("code",null,"titletext"),a(", etc.")]),s("li",null,[a("Use "),s("code",null,"model.generate()"),a(" instead.")]),s("li",null,"Try 4-gram."),s("li",null,[a("Reciprocal Rank Fusion"),s("p",null,[s("span",{class:"katex-display"},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[s("semantics",null,[s("mrow",null,[s("mi",null,"R"),s("mi",null,"R"),s("mi",null,"F"),s("mi",null,"S"),s("mi",null,"c"),s("mi",null,"o"),s("mi",null,"r"),s("mi",null,"e"),s("mo",{stretchy:"false"},"("),s("mi",null,"d"),s("mo",null,"∈"),s("mi",null,"D"),s("mo",{stretchy:"false"},")"),s("mo",null,"="),s("munder",null,[s("mo",null,"∑"),s("mpadded",{lspace:"-0.5width",width:"0px"},[s("mrow",null,[s("mi",null,"r"),s("mo",null,"∈"),s("mi",null,"R")])])]),s("mfrac",null,[s("mn",null,"1"),s("mrow",null,[s("mi",null,"k"),s("mo",null,"+"),s("mi",null,"r"),s("mo",{stretchy:"false"},"("),s("mi",null,"d"),s("mo",{stretchy:"false"},")")])]),s("mo",{separator:"true"},","),s("mi",null,"k"),s("mo",null,"="),s("mn",null,"60")]),s("annotation",{encoding:"application/x-tex"},"RRFScore(d \\isin D) = \\sum_{\\mathclap{r \\isin R}} \\dfrac{1}{k+r(d)}, k = 60 ")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"RRFS"),s("span",{class:"mord mathnormal"},"core"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"d"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"∈"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"D"),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"2.6431em","vertical-align":"-1.3217em"}}),s("span",{class:"mop op-limits"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.05em"}},[s("span",{style:{top:"-1.8557em","margin-left":"0em"}},[s("span",{class:"pstrut",style:{height:"3.05em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord vbox mtight"},[s("span",{class:"thinbox mtight"},[s("span",{class:"clap mtight"},[s("span",{class:"strut",style:{height:"0.7224em","vertical-align":"-0.0391em"}}),s("span",{class:"inner mtight"},[s("span",null,[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"r"),s("span",{class:"mrel mtight"},"∈"),s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.00773em"}},"R")])])]),s("span",{class:"fix"})])])])])])]),s("span",{style:{top:"-3.05em"}},[s("span",{class:"pstrut",style:{height:"3.05em"}}),s("span",null,[s("span",{class:"mop op-symbol large-op"},"∑")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.3217em"}},[s("span")])])])]),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord"},[s("span",{class:"mopen nulldelimiter"}),s("span",{class:"mfrac"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.3214em"}},[s("span",{style:{top:"-2.314em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"d"),s("span",{class:"mclose"},")")])]),s("span",{style:{top:"-3.23em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),s("span",{style:{top:"-3.677em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"1")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.936em"}},[s("span")])])])]),s("span",{class:"mclose nulldelimiter"})]),s("span",{class:"mpunct"},","),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6444em"}}),s("span",{class:"mord"},"60")])])])])])]),s("li",null,"Data validation (important).")],-1),x={__name:"15",setup(k){return g(n),d(),(R,b)=>{const e=m;return r(),i(h,c(o(t(y)(t(n),14))),{default:l(()=>[_,f,p(e,null,{default:l(()=>[v]),_:1})]),_:1},16)}}},T=u(x,[["__file","/@slidev/slides/15.md"]]);export{T as default};
